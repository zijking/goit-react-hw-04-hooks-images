{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ButtonLoadMore/ButtonLoadMore.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/services/apiPixabay.js","components/ButtonLoadMore/ButtonLoadMore.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/Loader/Loader.js","components/ImageGallery/ImageGallery.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","SearchBar","onSubmit","useState","search","setSearch","className","s","searchbar","e","trim","preventDefault","alert","searchForm","type","searchFormButton","searchFormButtonLabel","name","searchFormInput","onChange","currentTarget","value","placeholder","API_KEY","BASE_URL","SearchImgAi","this","page","searchWord","fetch","then","response","json","id","newPage","console","log","newWord","ButtonLoadMore","onClick","button","ImageGalleryItem","img","onClickM","nodeName","imageGalleryItem","src","webformatURL","alt","tags","imageGalleryItemImage","Modal","item","toggleModal","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","event","target","overlay","modal","largeImageURL","LoaderCom","color","height","width","ImageGallery","sword","images","setImages","modalShow","setModalShow","loading","setLoading","modalIndex","setModalIndex","apiSearch","useRef","searchImg","fitrstStart","current","resetPage","queryWord","res","hits","finally","handlerModal","numId","Number","indexModsl","findIndex","element","modalShowW","state","even","a","incrementPage","scrollTo","top","document","documentElement","scrollHeight","behavior","Loader","imageGallery","map","onCkickLoadMore","App","apiService","handelSubmit","setState","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7696655f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__35J9R\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__9Kr5T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__260dU\",\"modal\":\"Modal_modal__3VDG2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"ButtonLoadMore_button__3SguM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__tzxsJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__1pSO6\",\"searchForm\":\"Searchbar_searchForm__2VcNG\",\"searchFormButton\":\"Searchbar_searchFormButton__2ZFbO\",\"searchFormBbutton\":\"Searchbar_searchFormBbutton__1BK1O\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__2EHmF\",\"searchFormInput\":\"Searchbar_searchFormInput__1BA_b\",\"searchFormISnput\":\"Searchbar_searchFormISnput__3bcxp\"};","import { useState } from 'react';\r\n\r\nimport s from './Searchbar.module.css';\r\n\r\nfunction SearchBar({ onSubmit }) {\r\n  const [search, setSearch] = useState('');\r\n\r\n  const onChangeHandler = e => {\r\n    const { name, value } = e.currentTarget;\r\n\r\n    switch (name) {\r\n      case 'search': {\r\n        setSearch(value);\r\n        break;\r\n      }\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  const onSubmitHandel = e => {\r\n    if (search.trim() === '') {\r\n      alert('Write SEARCH WORD !!!');\r\n      return;\r\n    }\r\n    e.preventDefault();\r\n    onSubmit(search);\r\n  };\r\n\r\n  return (\r\n    <header className={s.searchbar}>\r\n      <form onSubmit={onSubmitHandel} className={s.searchForm}>\r\n        <button type=\"submit\" className={s.searchFormButton}>\r\n          <span className={s.searchFormButtonLabel}></span>\r\n        </button>\r\n\r\n        <input\r\n          name=\"search\"\r\n          className={s.searchFormInput}\r\n          onChange={onChangeHandler}\r\n          type=\"text\"\r\n          placeholder=\"Search images and photos\"\r\n          value={search}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default SearchBar;\r\n","// console.log('apiService.js');\r\n\r\nconst API_KEY = '19017356-b8756222892cfba3d959da30c';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\nconst ON_PAGE = 20;\r\n\r\nexport default class SearchImgAi {\r\n  constructor() {\r\n    this.page = 1;\r\n    this.searchWord = '';\r\n  }\r\n\r\n  searchImg() {\r\n    return fetch(\r\n      `${BASE_URL}\\\\?key=${API_KEY}&q=${this.searchWord}&per_page=${ON_PAGE}&page=${this.page}`,\r\n    ).then(response => response.json());\r\n  }\r\n\r\n  incrementPage() {\r\n    this.page += 1;\r\n  }\r\n\r\n  searchImgById(id) {\r\n    return fetch(`${BASE_URL}\\\\?key=${API_KEY}&id=${id}`).then(response =>\r\n      response.json(),\r\n    );\r\n  }\r\n\r\n  set setPage(newPage) {\r\n    if (newPage !== this.page && newPage < this.page) {\r\n      this.page = newPage;\r\n      console.log('new page big');\r\n    }\r\n  }\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  }\r\n\r\n  get query() {\r\n    return this.searchWord;\r\n  }\r\n\r\n  set queryWord(newWord) {\r\n    this.searchWord = newWord;\r\n  }\r\n\r\n  get currentPage() {\r\n    return this.page;\r\n  }\r\n}\r\n","import React from 'react';\r\nimport s from './ButtonLoadMore.module.css';\r\n\r\nfunction ButtonLoadMore({ onClick }) {\r\n  return (\r\n    <>\r\n      <button type=\"button\" className={s.button} onClick={onClick}>\r\n        Load more\r\n      </button>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ButtonLoadMore;\r\n","import React from 'react';\r\n\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nfunction ImageGalleryItem({ img, onClickM }) {\r\n  return (\r\n    <li\r\n      id={img.id}\r\n      onClick={e => {\r\n        // console.log(e);\r\n        // console.log(e.currentTarget.nodeName);\r\n        if (e.currentTarget.nodeName !== 'LI') {\r\n          return;\r\n        }\r\n        const id = e.currentTarget.id;\r\n        onClickM(id);\r\n      }}\r\n      className={s.imageGalleryItem}\r\n    >\r\n      <img\r\n        src={img.webformatURL}\r\n        alt={img.tags}\r\n        className={s.imageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { useEffect } from 'react';\r\nimport s from './Modal.module.css';\r\n\r\nfunction Modal({ item, toggleModal }) {\r\n  useEffect(() => {\r\n    // console.log('window.addEventListener');\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      // console.log('window.removeEventListener');\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, []);\r\n\r\n  const handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      // console.log('Нажали ESC, нужно закрыть модалку');\r\n      toggleModal();\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      toggleModal();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div onClick={handleBackdropClick} className={s.overlay}>\r\n      <div className={s.modal}>\r\n        <img src={item.largeImageURL} alt={item.tags} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\n\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nimport Loader from 'react-loader-spinner';\r\n\r\nfunction LoaderCom() {\r\n  return (\r\n    <div className=\"loader\">\r\n      <Loader\r\n        type=\"TailSpin\"\r\n        color=\"#3F51B5\"\r\n        height={500}\r\n        width={500}\r\n        // timeout={3000} //3 secs\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoaderCom;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\n\r\nimport searchImg from '../services/apiPixabay';\r\nimport ButtonLoadMore from '../ButtonLoadMore';\r\nimport s from './ImageGallery.module.css';\r\nimport ItemImg from '../ImageGalleryItem';\r\nimport Modal from '../Modal';\r\nimport Loader from '../Loader';\r\n\r\nfunction ImageGallery({ sword }) {\r\n  const [images, setImages] = useState(null);\r\n  const [modalShow, setModalShow] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [modalIndex, setModalIndex] = useState(0);\r\n\r\n  const apiSearch = useRef(new searchImg());\r\n  let fitrstStart = useRef(false);\r\n\r\n  useEffect(() => {\r\n    if (!fitrstStart.current) {\r\n      fitrstStart.current = true;\r\n      return;\r\n    }\r\n    // console.log('Змінилось пошукове слово !');\r\n    apiSearch.current.resetPage();\r\n    setImages(null);\r\n\r\n    apiSearch.current.queryWord = sword;\r\n    setLoading(true);\r\n\r\n    apiSearch.current\r\n      .searchImg()\r\n      .then(res => {\r\n        setImages(res.hits);\r\n      })\r\n      .finally(setLoading(false));\r\n  }, [sword]);\r\n\r\n  const handlerModal = id => {\r\n    const numId = Number(id);\r\n\r\n    const isLargeNumber = element => element.id === numId;\r\n\r\n    const indexModsl = images.findIndex(isLargeNumber);\r\n    setModalIndex(indexModsl);\r\n    modalShowW();\r\n  };\r\n\r\n  const modalShowW = () => {\r\n    setModalShow(state => !state);\r\n  };\r\n\r\n  async function onCkickLoadMore(even) {\r\n    // console.log('click more');\r\n\r\n    await apiSearch.current.incrementPage();\r\n    // console.log(apiSearch.current);\r\n    await apiSearch.current.searchImg().then(res => {\r\n      setImages(state => [...state, ...res.hits]);\r\n\r\n      // console.log(res);\r\n    });\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {loading && <Loader />}\r\n      <ul className={s.imageGallery}>\r\n        {images &&\r\n          images.map(item => {\r\n            return <ItemImg key={item.id} img={item} onClickM={handlerModal} />;\r\n          })}\r\n      </ul>\r\n      {images && <ButtonLoadMore onClick={() => onCkickLoadMore()} />}\r\n      {modalShow && (\r\n        <Modal toggleModal={modalShowW} item={images[modalIndex]} />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\n\nimport SearchBar from './components/Searchbar';\nimport ImgGellery from './components/ImageGallery';\nimport apiService from './components/services/apiPixabay';\n\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    modalShow: false,\n    sword: '',\n  };\n\n  searchImg = new apiService();\n\n  handelSubmit = searchWord => {\n    this.setState({ sword: searchWord });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <SearchBar onSubmit={this.handelSubmit} />\n        <ImgGellery sword={this.state.sword} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}